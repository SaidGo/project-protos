syntax = "proto3";

package user;

option go_package = "github.com/your-org/project-protos/proto/user";

// Сущность пользователь
message User {
  uint64 id    = 1;
  string email = 2;
  string name  = 3;
}

// ===== Requests / Responses =====

// Create
message CreateUserRequest { string email = 1; string name = 2; }
message CreateUserResponse { User user = 1; }

// Get
message GetUserRequest { uint64 id = 1; }
message GetUserResponse { User user = 1; }

// Update
message UpdateUserRequest { User user = 1; }
message UpdateUserResponse { User user = 1; }

// Delete
message DeleteUserRequest { uint64 id = 1; }
message DeleteUserResponse { bool deleted = 1; }

// List
message ListUsersRequest { uint32 page = 1; uint32 page_size = 2; }
message ListUsersResponse {
  repeated User users = 1;
  uint32 page = 2;
  uint32 page_size = 3;
  uint64 total = 4;
}

// ===== gRPC Service =====
service UserService {
  rpc CreateUser (CreateUserRequest) returns (CreateUserResponse);
  rpc GetUserById (GetUserRequest) returns (GetUserResponse);
  rpc UpdateUser (UpdateUserRequest) returns (UpdateUserResponse);
  rpc DeleteUser (DeleteUserRequest) returns (DeleteUserResponse);
  rpc ListUsers  (ListUsersRequest)  returns (ListUsersResponse);
}
